<div class="wrapper">
    <div class="messages-box" #messagesBox>
        <mat-card class="message" *ngFor="let message of messages" [ngClass]="{'is-from-me': message.fromMe}">
            <mat-card-header class="sender-info" *ngIf="!message.info">
                <mat-icon>account_circle</mat-icon>
                <h5>{{message.fromMe ? 'You' : message.fromUsername}}</h5>
            </mat-card-header>
            <mat-card-content *ngIf="!message.info">
                <p class="message-text">{{message.text}}</p>
            </mat-card-content>

            <!-- Info message -->
            <mat-card-content *ngIf="!!message.info">
                <p class="message-info" [ngClass]="{'info-red': message.infoColor === 1, 'info-green': message.infoColor === 0}">{{message.info}}</p>
            </mat-card-content>

        </mat-card>
    </div>

    <div class="message-compose">
        <mat-form-field>
            <textarea matInput [(ngModel)]="currentMessage" placeholder="Write your message here"></textarea>
        </mat-form-field>
        <div class="btn-aligner">
            <button mat-fab color="primary" (click)="send()">
                <mat-icon>send</mat-icon>
            </button>
        </div>
    </div>
</div>